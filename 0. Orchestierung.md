# pfSense VM erstellen 

VM Profil erstellen:
```powershell
"C:\lab\vm\ps-scripts\0. pfsense-vm.ps1"
```
Danach die Anweisungen hier befolgen: [4. pfSense - Firewall Implementieren.md](https://github.com/luki4no/lab/blob/main/4.%20pfSense%20-%20Firewall%20Implementieren.md)

# Anderen VMs erstellen

Admin Powershell/Terminal:

```powershell
C:\lab\vm\ps-scripts\create-all-vms.ps1
```

Dieses Skript wird jedes der angegebenen VM-Erstellungsskripte der Reihe nach ausführen und die VM-Profile für jedes Betriebssystem in Ihrer Liste erstellen. Hier ist, wie das Skript Schritt für Schritt funktioniert:

1. **Definiert den Pfad zu den Skripten**: Die Variable `$scriptDir` gibt das Verzeichnis an, in dem sich die VM-Erstellungsskripte befinden.
2. **Spezifiziert die auszuführenden Skripte**: Das Array `$scripts` enthält die Namen aller VM-Erstellungsskripte, einschließlich der PXE-modifizierten Versionen:
   - `"pfsense-vm-pxe.ps1"`
   - `"centos-vm-pxe.ps1"`
   - `"ubuntu-vm-pxe.ps1"`
   - `"fedora-vm-pxe.ps1"`
   - `"debian-vm-pxe.ps1"`
   - `"kali-vm-pxe.ps1"`
3. **Führt jedes Skript aus**: Die `foreach`-Schleife geht jedes Skript im Array durch:
   - Sie erstellt den vollständigen Pfad zu jedem Skript mit `Join-Path`.
   - Mit `Test-Path` wird überprüft, ob jedes Skript existiert, und falls ja, wird es mit `& $scriptPath` ausgeführt.
   - Falls ein Skript fehlt, wird eine Meldung ausgegeben, die das Fehlen dieses Skripts anzeigt.

4. **Abschlussbestätigung**: Wenn alle Skripte durchlaufen wurden, wird eine Meldung ausgegeben, dass alle VM-Erstellungsskripte ausgeführt wurden.


