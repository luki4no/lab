Source: [Wazuh - Deployment on Docker](https://documentation.wazuh.com/current/deployment-options/docker/index.html)

# Benutze VM

> 192.168.100.10   centos

# Docker Anpassungen

Docker und Docker-Compose haben wir schon mit Greenbone implementiert, doch wir müssen die untere Anpassung vornehmen, um die Konfiguration zu optimieren und den Betrieb zu stabilisieren.

## Docker-Host 'centos' vorbereiten

Es wird empfohlen, den Docker-Host mit mindestens 6 GB Arbeitsspeicher zu konfigurieren. Abhängig von der Bereitstellung und Nutzung variiert der Speicherverbrauch des Wazuh Indexers. Daher sollte der empfohlene Speicher zugewiesen werden, damit eine vollständige Stack-Bereitstellung ordnungsgemäß funktioniert.

Erhöhe `vm.max_map_count` auf deinem Host (Linux):

Der Wazuh Indexer erstellt viele speicherabbildende Bereiche. Daher musst du den Kernel so einstellen, dass ein Prozess mindestens 262.144 speicherabbildende Bereiche erhält.

```bash
sudo sysctl -w vm.max_map_count=262144
```

Aktualisiere die Einstellung `vm.max_map_count` in der Datei `/etc/sysctl.conf`, um den Wert dauerhaft festzulegen. Um dies nach einem Neustart zu überprüfen, führe den Befehl `sysctl vm.max_map_count` aus.

```bash
echo 'vm.max_map_count = 262144' | sudo tee -a /etc/sysctl.conf
```

> **Warnung**: Wenn du `vm.max_map_count` auf deinem Host nicht setzt, wird der Wazuh Indexer NICHT richtig funktionieren.





