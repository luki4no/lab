Source: [Wazuh - Deployment on Docker](https://documentation.wazuh.com/current/deployment-options/docker/index.html)

# Benutze VM

> 192.168.100.10   centos

# Anpassungen

Docker und Docker-Compose haben wir schon mit Greenbone implementiert. In diesem Dokument werde ich nur die auszuführenden Kommandos notieren; die Details finden wir auf der oben genannten öffentlichen Website.

# Docker-Host 'centos' vorbereiten
```bash
sudo sysctl -w vm.max_map_count=262144
```
```bash
echo 'vm.max_map_count = 262144' | sudo tee -a /etc/sysctl.conf
```

# Wazuh Docker-Bereitstellung (Einzelknoten)

## Klone das Wazuh-Repository auf dein System und starte die Installation. 

```bash
cd ~
```
```bash
git clone https://github.com/wazuh/wazuh-docker.git -b v4.9.2
```
```bash
cd ~/wazuh-docker/single-node/
```

## Generiere self-signed certificates für jeden Cluster-Knoten (ohne Proxy)

Wir haben ein Docker-Image erstellt, um die Zertifikatserstellung mit dem Wazuh-Certs-Gen-Tool zu automatisieren.

Falls du einen Proxy-Server benutzt, dann füge ihn unten in der Datei /home/lucian/wazuh-docker/single-node/generate-indexer-certs.yml so hinzu (passe `YOUR_PROXY_ADDRESS_OR_DNS` an)

```bash
echo -e "    environment:\n      - HTTP_PROXY=YOUR_PROXY_ADDRESS_OR_DNS" >> /home/lucian/wazuh-docker/single-node/generate-indexer-certs.yml
```
