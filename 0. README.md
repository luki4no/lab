Diese Dokumentation erklärt Schritt-für-Schritt wie man eine Linux Testumgebung in Windows mittels Hyper-V aufbaut.

## Voraussetzungen

Folgende Kommandos in Terminal bzw PowerShell als Admin ausführen:

Passende PowerShell Execution Policy setzen, um das Ausführen lokaler Skripte zuzulassen:

```powershell
Set-ExecutionPolicy RemoteSigned -Scope CurrentUser
```
> RemoteSigned: Erlaubt das Ausführen von lokal erstellten Skripten ohne Einschränkungen. Skripte, die aus dem Internet heruntergeladen werden, müssen jedoch von einem vertrauenswürdigen Herausgeber signiert sein.

Hyper-V Features installieren:

```powershell
Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Hyper-V -All
```

Git für Windows installieren:

```powershell
winget install --id Git.Git -e --source winget
```

Repository im Pfad 'C:\lab' herunterzuladen:

```powershell
git clone https://github.com/luki4no/lab.git C:\lab
```
```powershell
cd C:\lab
```

Der Ordner 'C:\lab' wird erstellt. In diesem Ordner wird die Git Repo heruntergeladen.

Die VM-bezogenen Dateien werden von jetzt an hier platziert.

Struktur anschauen:

```plaintext
PS C:\lab> tree /F
Folder PATH listing for volume Windows
Volume serial number is AC7C-AA26
C:.
│   0. README.md
│   1. Umgebung.md
│   2. Virtuelle Switches (Hyper-V).md
│   3. Firewall implementieren (pfSense).md
│   4. OpenVPN Server implementieren (pfSense).md
│   5. Automatisierung mit Ansible.md
│
└───vm
    ├───ps-scripts
    │       create-centos-vm.ps1
    │       create-fedora-vm.ps1
    │       create-folders.ps1
    │       create-internal-external-switches.ps1
    │       create-pfsense-vm.ps1
    │       download-iso.ps1
    │       hyper-v-create-debian-vm.ps1
    │       hyper-v-create-kali-vm.ps1
    │       hyper-v-create-ubuntu-vm.ps1
    │       remove-internal-external-switches.ps1
    │
    └───webserver
            ai-debian.yaml
            ai-ubuntu.yaml
            ansible-pfsense-config.yml
            ks-centos.cfg
            ks-fedora-gui.cfg
            ps-debian-gui.cfg
            ps-debian.cfg
            ps-kali-gui.cfg
            test.txt

PS C:\lab>
```
